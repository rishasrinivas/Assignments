# Machine Learning Pipeline for Bioinformatics

This repository contains a Nextflow-driven machine learning pipeline designed for bioinformatics applications. The pipeline automates the process of data preparation, model training and tuning, and model evaluation, with a focus on reproducibility and clear documentation of results.

## Project Structure

```
.nextflow/             # Nextflow work directory (generated)
data/                  # Input data and processed data
├── Gastric.csv        # Raw input dataset
├── processed/         # Processed data (generated by PREPARE)
│   ├── features.json
│   ├── imputer_stats.json
│   ├── X_test.csv
│   ├── X_train.csv
│   ├── y_test.csv
│   └── y_train.csv
models/                # Trained models and training metrics (generated by TRAIN)
├── best_model.joblib
└── metrics.json
nextflow/              # Nextflow workflow definition
└── main.nf
results/               # Evaluation results and plots (generated by EVAL)
├── confusion_matrix.png
├── evaluation_metrics.json
├── final_report.md
└── roc_curve.png
src/                   # Source code for data processing, training, and evaluation
├── data_prep.py
├── evaluate.py
├── train.py
└── serve/             # (Optional) Model serving application
    └── app.py
generate_final_report.py # Script to compile final report
requirements.txt       # Python dependencies
README.md              # This file
```

## Setup

### Prerequisites

*   **Nextflow:** Ensure Nextflow is installed on your system. Follow the instructions [here](https://www.nextflow.io/docs/latest/getstarted.html#installation).
*   **Python 3.x:** Ensure Python 3 is installed.
*   **Conda (Recommended):** For managing Python dependencies.

### Installation

1.  **Clone the repository:**
    ```bash
    git clone <repository_url>
    cd <repository_name>
    ```

2.  **Create and activate a Conda environment (recommended):**
    ```bash
    conda create -n bioinformatics_ml python=3.9
    conda activate bioinformatics_ml
    ```

3.  **Install Python dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

## Usage

### Running the Nextflow Pipeline

To execute the entire machine learning pipeline, navigate to the root directory of the repository and run:

```bash
nextflow run nextflow/main.nf
```

This command will: 
1.  Prepare the data (`PREPARE` process).
2.  Train and tune the model (`TRAIN` process).
3.  Evaluate the model and generate plots (`EVAL` process).

### Resuming the Pipeline

If the pipeline fails or is interrupted, you can resume its execution from the last successful checkpoint using the `--resume` flag:

```bash
nextflow run nextflow/main.nf --resume
```

### Generating the Final Report

After the Nextflow pipeline has completed successfully, you can generate a comprehensive Markdown report that summarizes the pipeline's results, including metrics and references to plots:

```bash
python3 generate_final_report.py
```

The final report will be saved as `work/results/final_report.md`.

## Outputs

Upon successful execution, the pipeline generates the following key outputs:

*   **`work/data/processed/`**: Contains the processed datasets (`X_train.csv`, `y_train.csv`, etc.) and metadata (`features.json`, `imputer_stats.json`).
*   **`work/models/`**: Stores the trained machine learning model (`best_model.joblib`) and training metrics (`metrics.json`).
*   **`work/results/`**: Holds the evaluation metrics (`evaluation_metrics.json`), visualization plots (`confusion_matrix.png`, `roc_curve.png`), and the final generated report (`final_report.md`).

## License

[Specify your license here, e.g., MIT License]